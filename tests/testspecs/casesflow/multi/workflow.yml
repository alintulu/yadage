stages:
- name: hello_world
  dependencies: [init]
  scheduler:
    scheduler_type: multistep-stage
    parameters:
      parone: {stages: init, output: input_array, unwrap: true}
      outputfile: '{workdir}/hello_world.txt'
    cases:
    - if: .parone==0 or .parone==3
      step: {$ref: 'steps.yml#/hello'}
    - if: 0 < .parone and .parone < 3
      step: {$ref: 'steps.yml#/bye'}
    scatter:
      method: 'zip'
      parameters: [parone]
